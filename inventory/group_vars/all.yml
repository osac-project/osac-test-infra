---
# Global variables for CloudKit E2E Testing
#

KUBECONFIG: "{{ ansible_env.KUBECONFIG }}"

# Paths and executables
fulfillment_cli_path: "{{ ansible_env.GOPATH | default(ansible_env.HOME + '/go') }}/bin/fulfillment-cli"


# Default test configuration
test_namespace: "foobar"
testing_workspace: "/tmp/cloudkit-e2e-testing"

# Fulfillment service configuration for our test environment
# OpenShift cluster domain suffix (user must specify correct domain)
cluster_domain_suffix: "apps.hcp.local.lab"
fulfillment_app_name: "fulfillment-api"
fulfillment_port: "443"

# Constructed fulfillment addresses using OpenShift naming convention: <app-name>-<namespace>.<cluster-domain>:<port>
fulfillment_address: "{{ fulfillment_app_name }}-{{ test_namespace }}.{{ cluster_domain_suffix }}:{{ fulfillment_port }}"
cloudkit_installer_fulfillment_address: "{{ fulfillment_app_name }}-{{ test_namespace }}.{{ cluster_domain_suffix }}:{{ fulfillment_port }}"
fulfillment_token_script: "oc create token fulfillment-admin -n {{ test_namespace }} --duration 1h --as system:admin"

# Hub creation specific overrides
hub_service_account: "fulfillment-admin"
hub_token_namespace: "{{ test_namespace }}"
hub_token_duration: "1h"

# OpenShift/Kubernetes settings
k8s_settings:
  verify_ssl: false
  timeout: 300
  retries: 3

# Logging and reporting
logging:
  test_log_file: "{{ testing_workspace }}/test-execution.log"
  results_file: "{{ testing_workspace }}/test-results.json"
  enable_debug: true
